<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="src/css/output.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.16/dist/tailwind.min.css" rel="stylesheet">
    <title>MEETTIME</title>
</head>

<body class="font-sans">
    <header class="relative h-screen">
        <!-- Hintergrundvideo -->
        <div class="absolute inset-0">
            <video autoplay muted loop class="w-full h-full object-cover">
                <source src="assets/videos/hintergrund.mp4" type="video/mp4">
            </video>
        </div>

        <!-- Navigation -->
        <nav class="flex justify-between py-10 px-20 relative text-white">
            <div class="flex items-center"></div>
            <div class="flex text-lg space-x-10">
                <a href="about.html" class="relative border-2 border-transparent p-2 px-4 transition duration-200 hover:border-white hover:font-semibold hover:p-2 hover:px-4">
                    ABOUT
                </a>
            </div>
        </nav>
    </header>

    <!-- Einzelne Videos -->
    <div class="video-grid grid grid-cols-1 md:grid-cols-2 py-5 gap-5">
        <!-- Videos werden hier geladen -->
    </div>

    <footer class="px-20 pt-5 pb-5 text-black flex items-center justify-between">
        <div>
            <a href="impressum.html" class="text-sm">Impressum</a>
            &#124;
            <a href="datenschutz.html" class="text-sm">Datenschutz</a>
        </div>

        <div>
            <span class="mr-2 text-sm">Tina Frauenknecht © 2023</span>
        </div>
        <div class="flex items-center">
            <a href="https://www.instagram.com/swissunihockey/" class="mx-2 text-sm">
                <img src="assets/icons/instagram.png" alt="Instagram" width="24" height="24">
            </a>
            <a href="https://www.youtube.com/@swissunihockey" class="mx-2 text-sm" target="_blank">
                <img src="assets/icons/youtube.png" alt="Youtube" width="25" height="25">
            </a>
            <a href="mailto:tina.frauenknecht@hotmail.com" class="mx-2 text-sm">
                <img src="assets/icons/mail.png" alt="E-Mail" width="24" height="24">
            </a>
        </div>
    </footer>

    <script>
        const projektJsonURL = "/projekt.json";
        const videoGrid = document.querySelector(".video-grid");

        const loadProjekte = async () => {
            try {
                const response = await fetch(projektJsonURL);
                if (!response.ok) {
                    throw new Error(`Failed to fetch project data: ${response.status} ${response.statusText}`);
                }
                const projekte = await response.json();

                projekte.forEach((projekt, index) => {
                    const videoContainer = document.createElement("div");
                    videoContainer.className = "video-container";

                    const standbildImg = document.createElement("img");
                    standbildImg.src = projekt["standbild"];
                    standbildImg.alt = projekt["title"];
                    standbildImg.classList.add("hover:opacity-90");

                    standbildImg.addEventListener("click", () => {
                        // Weiterleitung zur projekt.html-Seite mit dem ausgewählten Index
                        window.location.href = `/projekt.html?index=${index}`;
                    });

                    videoContainer.appendChild(standbildImg);
                    videoGrid.appendChild(videoContainer);
                });
            } catch (error) {
                console.error(error);
            }
        };

        loadProjekte();
    </script>
</body>
</html>
